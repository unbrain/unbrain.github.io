---
title: AnyProxy 上手
date: 2019/01/19
tags:
	- 编程
---

![](/img/anyproxy.png)

由于要爬取微信上的文章列表，但因为微信公众号的封闭性，微信公众平台并没有对外提供 Web 端入口，只能通过手机客户端接收、查看公众号文章，所以，为了窥探到公众号背后的网络请求，我们需要借以代理工具的辅助。

<!--more-->

HTTP代理工具又称为抓包工具，主流的抓包工具 Windows 平台有 Fiddler，macOS 有 Charles，阿里开源了一款工具叫 AnyProxy。它们的基本原理都是类似的，就是通过在手机客户端设置好代理IP和端口，客户端所有的 HTTP、HTTPS 请求就会经过代理工具，在代理工具中就可以清晰地看到每个请求的细节，然后可以分析出每个请求是如何构造的，弄清楚这些之后，我们就可以用 Python 模拟发起请求，进而得到我们想要的数据。

使用的方法[官方文档](http://anyproxy.io/cn/)都写的很明白

值得记录下来的是我们是要用手机来进行微信公众号的访问，用电脑来进行抓包，所以要保证手机与笔记本在同一个局域网下，比如连在同一个局域网下，我是用一个手机开  `wifi`，电脑一另一台手机连接该 `wifi` 

当电脑 `127.0.0.1:8002` 手机 `电脑局域网ip：8002` 显示一样的内容说明是在同一局域网内了。

把证书装进手机，不然会不被认可

修改手机的代理与端口为电脑的局域网 IP 及 8001